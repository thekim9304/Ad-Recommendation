01. 광고 과금 모델 (Pricing Models)
	1.	CPM (Cost Per Mille)
        - Mille는 라틴어로 1,000을 의미한다.
        - 1,000회 노출당 비용을 지불하는 방식.
        - 주로 브랜드 인지도를 높이는 것이 목적인 광고(예: 신차 출시, 영화 홍보)에 사용된다.
	2.	CPC (Cost Per Click)
        - 클릭당 비용을 지불하는 방식. 사용자가 광고를 클릭해야만 과금된다.
        - 대부분의 퍼포먼스 광고(Performance Ad)의 표준적인 과금 방식이다.
	3.	CPA (Cost Per Action)
        - 광고를 클릭한 사용자가 특정 행동(Action)을 완료했을 때 비용을 지불한다.
        - 행동은 회원가입, 앱 설치, 장바구니 담기, 실제 구매(CPS: Cost Per Sale) 등을 의미한다. 광고주의 최종 목표와 가장 가깝다.

⸻

CTR 예측이 중요한 이유

CTR 예측을 배우는 근본적인 이유는 바로 CPC 모델 때문이다.

광고 플랫폼 입장에서 한정된 광고 지면(예: 카카오톡 배너)에 어떤 광고를 보여줘야 수익이 극대화될까?
광고주가 제시한 CPC 입찰가만 높다고 해서 무조건 그 광고를 노출하는 것은 비효율적이다. 아무도 클릭하지 않으면 플랫폼 수익은 0원이 되기 때문이다.

따라서 광고 플랫폼은 모든 광고의 가치를 eCPM (effective Cost Per Mille, 유효 1,000회 노출당 비용) 이라는 통합 지표로 환산한다. eCPM이 가장 높은 광고가 사용자에게 노출된다.

CPC 광고의 eCPM 공식은 다음과 같다.

eCPM = CPC\ Bid \times pCTR \times 1000

예시
- A 광고: CPC 입찰가 100원, 예측 클릭률(pCTR) 2%
    - → eCPM = 100 × 0.02 × 1000 = 2,000원
- B 광고: CPC 입찰가 50원, 예측 클릭률(pCTR) 5%
    - → eCPM = 50 × 0.05 × 1000 = 2,500원

이 경우 광고 플랫폼은 B 광고를 노출하는 것이 더 높은 기대 수익을 가져온다.

즉, CTR 예측 모델이 얼마나 정확하냐가 광고 플랫폼의 전체 수익을 결정한다. 모델 성능이 곧 회사 매출과 직결된다.

⸻

02. 광고 추천 데이터의 세 가지 특징

광고 추천 데이터는 크게 세 가지 특징을 가진다. 바로 대규모(Large-scale), 희소성(Sparsity), 범주형 피처(Categorical Features) 중심이라는 점이다.

⸻

1. 대규모 (Large-scale)
    - What: 광고 추천 데이터는 매우 크다. 대형 플랫폼에서는 하루에도 수십억 건의 광고 노출 로그가 쌓이며, 수백 GB에서 수 TB에 이른다.
    - Why: 수천만 명의 사용자가 수만 개 광고와 상호작용하는 모든 기록을 담아야 하기 때문이다.
    - So What: Pandas DataFrame으로는 처리 불가능하다. PySpark 같은 분산 처리 기술이 필수이며, 모델도 대용량 데이터를 효율적으로 학습할 수 있도록 설계되어야 한다.

⸻

2. 희소성 (Sparsity)
    - What: 데이터 대부분이 ‘0’으로 채워져 있으며, 우리가 원하는 정보(클릭, 전환)는 매우 드물게 나타난다.
    - 정답(Label) 희소성
    - CTR: 광고 100회 노출 중 클릭은 1번도 안 일어날 수 있다. (CTR < 1%) → 데이터의 99% 이상이 ‘클릭 안 함(0)’.
    - CVR: 클릭 후 전환은 더 낮다. CTR 1% × CVR 5% = 전체 전환율 0.05% 수준. 데이터의 99.95%가 ’전환 안 함(0)’인 극단적인 클래스 불균형.
    - 피처 희소성
    - user_id, ad_id 같은 피처는 수천만 개의 고유값을 가진다. 원-핫 인코딩 시 대부분이 0인 거대한 벡터가 생성된다.
    - Why: 사용자 × 광고 조합은 사실상 무한하지만 실제 상호작용은 극히 일부이기 때문이다.
    - So What: 이 희소성 문제를 해결하기 위해 팩터라이제이션 머신(FM) 같은 모델이 등장했다.

⸻

3. 범주형 피처 (Categorical Features) 중심
    - What: 데이터의 대부분은 수치형이 아니라 범주형이다. 예: 성별(남/여), 광고 카테고리(의류/화장품), 기기(모바일/PC). user_id, ad_id도 거대한 범주형 피처다.
    - Why: 사용자와 광고를 설명하는 대부분의 정보가 분류/종류 속성을 가지기 때문이다.
    - So What: 머신러닝 모델은 숫자를 입력으로 받으므로, 수많은 범주형 데이터를 어떻게 수치화하느냐가 모델 성능의 핵심이다. 이를 위해 임베딩(Embedding) 기법이 활용되며, 딥러닝이 이 분야에서 강력한 이유이기도 하다.

⸻

요약

광고 추천 데이터는
- 크고(Scale)
- 대부분 비어 있으며(Sparsity)
- 범주형(Categorical) 위주

이러한 특성 때문에 Spark, Factorization Machines, Embedding 같은 기술이 중요해진다.